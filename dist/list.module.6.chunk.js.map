{"version":3,"sources":["./src/app/pages/fine/list/list.component.html","./src/app/pages/fine/list/list.component.ts","./src/app/pages/fine/list/list.module.ts"],"names":[],"mappings":";;;;;AAAA,kvJAAkvJ,aAAa,oDAAoD,OAAO,yBAAyB,iBAAiB,2GAA2G,eAAe,2DAA2D,eAAe,6CAA6C,oBAAoB,2GAA2G,kBAAkB,2DAA2D,kBAAkB,+HAA+H,KAAK,mBAAmB,iBAAiB,GAAG,gBAAgB,0EAA0E,sCAAsC,2GAA2G,KAAK,sBAAsB,8GAA8G,+lB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA9vL;AAC3C;AACgD;AAC3C;AAGU;AACN;AAMlD;IAUI,uBACY,OAAe,EACf,UAA6B,EAC7B,WAAwB;QAFxB,YAAO,GAAP,OAAO,CAAQ;QACf,eAAU,GAAV,UAAU,CAAmB;QAC7B,gBAAW,GAAX,WAAW,CAAa;QAVpC,YAAO,GAAG,IAAI,KAAK,EAAW,CAAC;QAC/B,gBAAW,GAAG,IAAI,KAAK,EAAW,CAAC;QACnC,aAAQ,GAAG,sEAAU,CAAC;QAUlB,YAAY;QACZ,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QACzC,WAAW;QACX,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;IACnD,CAAC;IAED,gCAAQ,GAAR;QAAA,iBAOC;QANG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,UAAM,UAAU;;;;6BACrE,UAAU,EAAV,wBAAU;wBACV,qBAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,CAAC;;wBAArC,SAAqC,CAAC;wBACtC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;;;;;aAEjC,CAAC;IACN,CAAC;IAED,mCAAW,GAAX;QACI,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IACnC,CAAC;IAED,gCAAQ,GAAR,UAAS,UAAe;QAAxB,iBAQC;QAPG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,cAAI;YACxD,QAAQ;YACJ,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;QAE/B,CAAC,EAAE,UAAC,GAAsB;YACtB,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAW,GAAX,UAAY,IAAS;QAArB,iBAuBC;QArBG,IAAM,YAAY,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAE,CAAC;QAC3D,IAAM,YAAY,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAExD,IAAI,YAAY,CAAC,OAAO,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,EAAE;YACjD,KAAK,CAAC,gEAAO,CAAC,gBAAgB,CAAC,CAAC;SACnC;aAAM;YACH,IAAI,CAAC,KAAK,CAAC,eAAe,GAAI,YAAY,CAAC,OAAO,EAAE,CAAC;YACrD,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC;YAElD,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC;YACjC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;YAG9B,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAM,IAAI;;oBACpE,QAAQ;oBACQ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;;;iBAE9B,EAAE,UAAC,GAAsB;gBACtB,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,wCAAgB,GAAhB,UAAiB,IAAS;QACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAC1B,QAAQ;QACA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,KAAK,CAAC,gEAAO,CAAC,QAAQ,CAAC,CAAC;YACxB,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC3B;QAED,mBAAmB;QACnB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;IACnD,CAAC;IAED,iCAAS,GAAT,UAAU,SAAiB,EAAC,UAAkB,EAAE,SAAgB;QAC5D,IAAG,SAAS,IAAI,IAAI,IAAI,SAAS,IAAI,EAAE;YACnC,SAAS,GAAG,GAAG,CAAC;QAEpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,oBAAkB,SAAS,SAAI,UAAU,SAAI,SAAW,CAAC,CAAC,CAAC;IACtF,CAAC;IAEK,mCAAW,GAAjB,UAAkB,KAAK;;;;;;wBACnB,SAAI;wBAAe,qBAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC;;wBAAjF,GAAK,WAAW,GAAG,SAA8D,CAAC;;;;;KACrF;IA/FuB;QAAvB,0EAAS,CAAC,WAAW,CAAC;kCAAY,iEAAU;oDAAC;IARrC,aAAa;QAJzB,wEAAS,CAAC;YACP,QAAQ,EAAE,UAAU;;SAEvB,CAAC;yCAYuB,+DAAM;YACH,uGAAiB;YAChB,kEAAW;OAb3B,aAAa,CAwGzB;IAAD,oBAAC;CAAA;AAxGyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbe;AACM;AACE;AACM;AACV;AACwC;AACvC;AACH;AACa;AACyC;AAC1B;AAEvE,IAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,IAAI,EAAE;YACF,wBAAwB;YACxB,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,mCAAmC,EAAE,CAAC;YACvF,QAAQ,EAAE,MAAM;YAChB,QAAQ,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,EAAE,cAAc,EAAE;SACvD;QACD,SAAS,EAAE,sEAAa;KAC3B;CACJ;AAeD;IAAA;IAA0B,CAAC;IAAd,UAAU;QAbtB,uEAAQ,CAAC;YACN,OAAO,EAAE;gBACP,qEAAY;gBACZ,iEAAU;gBACV,8EAAgB;gBAChB,mEAAW;gBACX,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,sGAAiB;gBACjB,kHAAqB;aACtB;YACD,YAAY,EAAE,CAAC,sEAAa,EAAC,sFAAe,CAAC;YAC7C,SAAS,EAAE,CAAC,kEAAW,CAAC;SAC3B,CAAC;OACW,UAAU,CAAI;IAAD,iBAAC;CAAA;AAAJ","file":"list.module.6.chunk.js","sourcesContent":["module.exports = \"<div *ngIf=\\\"advSearch | async\\\" class=\\\"card card-outline-bluish unset-radius\\\">\\n  <div class=\\\"card-header unset-radius\\\">\\n    <app-card-actions-close></app-card-actions-close>\\n    <h4 class=\\\"card-title m-b-0\\\">ค้นหาขั้นสูง</h4>\\n  </div>\\n\\n  <div class=\\\"card-body\\\">\\n    <form class=\\\"form-horizontal\\\" #advForm=\\\"ngForm\\\" (ngSubmit)=\\\"onAdvSearch(advForm)\\\">\\n      <div>\\n        <div class=\\\"row\\\">\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">เลขที่ใบงาน :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"form-line\\\">\\n                <input type=\\\"text\\\" name=\\\"ArrestCode\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n          </div>\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">เลขที่คดีรับคำกล่าวโทษ :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"form-line\\\">\\n                <input type=\\\"text\\\" name=\\\"LawsuitCode\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">ทะเบียนตรวจพิสูจน์ :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"form-line\\\">\\n                <input type=\\\"text\\\" name=\\\"ProveReportNo\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n          </div>\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">เลขที่เปรียบเทียบคดี :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"form-line\\\">\\n                <input type=\\\"text\\\" name=\\\"CompareCode\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">วันที่เปรียบเทียบคดี :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group input-group form-line\\\">\\n              <input type=\\\"date\\\" name=\\\"CompareDateFrom\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"วว/ดด/ปปปป\\\">\\n              <label class=\\\"col-2 control-label text-center padding-adv-search\\\">ถึง</label>\\n              <input type=\\\"date\\\" name=\\\"CompareDateTo\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"วว/ดด/ปปปป\\\">\\n            </div>\\n          </div>\\n\\n          <input type=\\\"hidden\\\" name=\\\"ProgramCode\\\" ngModel>\\n          <input type=\\\"hidden\\\" name=\\\"ProcessCode\\\" ngModel>\\n\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">ผู้เปรียบเทียบคดี :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"form-line\\\">\\n                <input type=\\\"text\\\" name=\\\"Staff\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">หน่วยงาน :</label>\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"form-line\\\">\\n                <input type=\\\"text\\\" name=\\\"Department\\\" ngModel  class=\\\"form-control \\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row form-group\\\">\\n          \\n            <div class=\\\"col-10\\\"></div>\\n            <div class=\\\"col-2\\\">\\n                <button type=\\\"submit\\\" class=\\\"btn btn-block btn-themecolor\\\">ค้นข้อมูล</button>\\n            </div>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-body\\\">\\n\\n    <div class=\\\"table-responsive table-striped \\\">\\n      <table #fineTable class=\\\"table\\\">\\n        <thead>\\n          <tr>\\n            <th class=\\\"text-center\\\">ลำดับ</th>\\n            <th>เลขที่ใบงาน</th>\\n            <th style=\\\"text-align: center\\\">เลขที่คดีรับคำกล่าว</th>\\n            <th>ทะเบียนตรวจพิสูจน์</th>\\n            <th style=\\\"text-align: center\\\">เลขที่เปรียบเทียบคดี</th>\\n            <th>ผู้เปรียบเทียบคดี</th>\\n            <th style=\\\"text-align: center\\\">วันที่เปรียบเทียบคดี</th>\\n            <th>หน่วยงาน</th>\\n            <th></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let item of CompareList; let i=index;\\\">\\n            <td style=\\\"text-align: center\\\">{{i + 1}}</td>\\n            <td>{{item.ArrestCode}}</td>\\n            <td style=\\\"text-align: center\\\">\\n              <div *ngIf=\\\"item.IsOutside == 1\\\">น {{item.Lawsuilt}}</div>\\n              <div *ngIf=\\\"item.IsOutside != 1\\\">{{item.Lawsuilt}}</div>\\n            </td>\\n            <td>{{item.ProveReportNo}}</td>\\n            <td style=\\\"text-align: center\\\">\\n              <div *ngIf=\\\"item.IsOutside == 1\\\">น {{item.CompareCode}}</div>\\n              <div *ngIf=\\\"item.IsOutside != 1\\\">{{item.CompareCode}}</div>\\n            </td>\\n            <td>\\n                <div *ngFor=\\\"let staff of item.CompareStaff | ContributorPipe:18;\\\">{{staff.TitleName}}{{staff.FirstName}} {{staff.LastName}}</div>\\n            </td>\\n            <td style=\\\"text-align: center\\\">{{item.CompareDate | date:'dd-MM-yyyy'}}</td>\\n            <td>\\n                <div *ngFor=\\\"let staff of item.CompareStaff | ContributorPipe:18;\\\">{{staff.DepartmentName}}</div>\\n            </td>\\n            <td class=\\\"text-center\\\">\\n              <a href=\\\"javaScript:void(0);\\\" class=\\\"text-secondary\\\" (click)=\\\"clickView(item.LawsuitID,item.ArrestCode,item.CompareID)\\\">\\n                <i class=\\\"mdi mdi-eye fa-lg\\\"></i>\\n              </a>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n\\n    <div class=\\\"card-footer card-footer-unset\\\">\\n      <app-pagination-table [TotalItems]=\\\"paginage.TotalItems\\\" [CurrentPage]=\\\"paginage.CurrentPage\\\" [PageSize]=\\\"paginage.PageSize\\\"\\n        [RowsPerPageOptions]=\\\"paginage.RowsPerPageOptions\\\" (onPageChange)=\\\"pageChanges($event)\\\">\\n      </app-pagination-table>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/fine/list/list.component.html\n// module id = ./src/app/pages/fine/list/list.component.html\n// module chunks = list.module.6","import { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NavigationService } from '../../../shared/header-navigation/navigation.service';\nimport { FineService } from '../fine.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Compare } from '../compare';\nimport { pagination } from '../../../config/pagination';\nimport { Message } from '../../../config/message';\n\n@Component({\n    selector: 'app-list',\n    templateUrl: './list.component.html'\n})\nexport class ListComponent implements OnInit, OnDestroy {\n\n    advSearch: any;\n    Compare = new Array<Compare>();\n    CompareList = new Array<Compare>();\n    paginage = pagination;\n    private subOnSearch: any;\n\n    @ViewChild('fineTable') fineTable: ElementRef;\n\n    constructor(\n        private _router: Router,\n        private navService: NavigationService,\n        private fineService: FineService\n    ) {\n        // set false\n        this.navService.setEditButton(false);\n        this.navService.setDeleteButton(false);\n        this.navService.setPrintButton(false);\n        this.navService.setSaveButton(false);\n        this.navService.setCancelButton(false);\n        this.navService.setNextPageButton(false);\n        // set true\n        this.navService.setSearchBar(true);\n        this.navService.setNewButton(false);\n        this.advSearch = this.navService.showAdvSearch;\n    }\n\n    ngOnInit() {\n        this.subOnSearch = this.navService.searchByKeyword.subscribe(async Textsearch => {\n            if (Textsearch) {\n                await this.navService.setOnSearch('');\n                this.onSearch(Textsearch);\n            }\n        })\n    }\n\n    ngOnDestroy(): void {\n        this.subOnSearch.unsubscribe();\n    }\n\n    onSearch(Textsearch: any) {\n        this.fineService.getByKeyword(Textsearch).subscribe(list => {\n        debugger\n            this.onSearchComplete(list)\n\n        }, (err: HttpErrorResponse) => {\n            alert(err.message);\n        });\n    }\n\n    onAdvSearch(form: any) {\n        \n        const sDateCompare = new Date(form.value.CompareDateFrom );\n        const eDateCompare = new Date(form.value.CompareDateTo);\n\n        if (sDateCompare.getTime() > eDateCompare.getTime()) {\n            alert(Message.checkRevenueDate);\n        } else {\n            form.value.CompareDateFrom  = sDateCompare.getTime();\n            form.value.CompareDateTo = eDateCompare.getTime();\n\n            form.value.ProgramCode = \"XCS06\";\n            form.value.ProcessCode = \"01\";\n\n\n            this.fineService.getByConAdv(form.value).then(async list => {\ndebugger\n                this.onSearchComplete(list)\n\n            }, (err: HttpErrorResponse) => {\n                alert(err.message);\n            });\n        }\n    }\n\n    onSearchComplete(list: any) {\n        this.Compare = [];\ndebugger\n        if (!list.length) {\n            alert(Message.noRecord);\n            return false;\n        }\n\n        if (Array.isArray(list)) {\n            this.Compare = list;\n        } else {\n            this.Compare.push(list);\n        }\n\n        // set total record\n        this.paginage.TotalItems = this.Compare.length;\n    }\n\n    clickView(LawsuitID: string,ArrestCode: string, CompareID:string) {\n        if(CompareID == null || CompareID == \"\")\n            CompareID = \"0\";\n\n        this._router.navigate([`/fine/manage/R/${LawsuitID}/${ArrestCode}/${CompareID}`]);\n    }\n\n    async pageChanges(event) {\n        this.CompareList = await this.Compare.slice(event.startIndex - 1, event.endIndex);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/fine/list/list.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListComponent } from './list.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { CardActionsModule } from '../../component/card-actions/card-actions.module';\nimport { FineService } from '../fine.service';\nimport { HttpModule } from '@angular/http';\nimport { HttpClientModule } from '@angular/common/http';\nimport { PaginationTableModule } from '../../component/pagination-table/pagination-table.module';\nimport { ContributorPipe } from '../../../shared/pipe/ContributorPipe';\n\nconst routes: Routes = [\n    {\n        path: '',\n        data: {\n            // title: 'ค้นหาข้อมูล',\n            urls: [{ title: 'หน้าหลัก', url: '/' }, { title: 'ค้นหางานเปรียบเทียบและชำระค่าปรับ' }],\n            pageType: 'list',\n            nextPage: { title: 'แจ้งความ', url: '/fine/manage' }\n        },\n        component: ListComponent\n    }\n]\n\n@NgModule({\n    imports: [\n      CommonModule,\n      HttpModule,\n      HttpClientModule,\n      FormsModule,\n      RouterModule.forChild(routes),\n      CardActionsModule,\n      PaginationTableModule\n    ],\n    declarations: [ListComponent,ContributorPipe],\n    providers: [FineService]\n})\nexport class ListModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/fine/list/list.module.ts"],"sourceRoot":"webpack:///"}