{"version":3,"sources":["./src/app/pages/notices/list/list.component.html","./src/app/pages/notices/list/list.component.ts","./src/app/pages/notices/list/list.module.ts"],"names":[],"mappings":"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","file":"list.module.4.chunk.js","sourcesContent":["module.exports = \"<div *ngIf=\\\"advSearch | async\\\" class=\\\"card card-outline-bluish unset-radius\\\">\\n    <div class=\\\"card-header unset-radius\\\">\\n        <app-card-actions-close></app-card-actions-close>\\n        <h4 class=\\\"card-title m-b-0\\\">ค้นหา</h4>\\n    </div>\\n    <div class=\\\"card-body\\\">\\n        <form class=\\\"form-horizontal\\\" autocomplete=\\\"off\\\" #advForm=\\\"ngForm\\\" (ngSubmit)=\\\"onAdvSearch(advForm)\\\">\\n            <div>\\n                <div class=\\\"row\\\">\\n                    <label for=\\\"\\\" class=\\\"col-lg-2 col-sm-3\\\">เลขที่ใบแจ้งความ :</label>\\n                    <div class=\\\"col-lg-4 col-md-7 col-sm-9\\\">\\n                        <div class=\\\"form-group\\\">\\n                            <input type=\\\"text\\\" name=\\\"NoticeCode\\\" ngModel class=\\\"form-control form-control-sm\\\">\\n                        </div>\\n                    </div>\\n\\n                    <label for=\\\"\\\" class=\\\"col-lg-2 col-sm-3\\\">วันที่รับแจ้งความ :</label>\\n                    <div class=\\\"col-lg-4 col-md-7 col-sm-9\\\">\\n                        <div class=\\\"form-group input-group\\\">\\n                            <my-date-picker-th name=\\\"DateStartFrom\\\" [options]=\\\"myDatePickerOptions\\\"\\n                            (dateChanged)=\\\"onSDateChange($event)\\\" [(ngModel)]=\\\"dateStartFrom\\\"></my-date-picker-th>\\n                            <!-- <input type=\\\"date\\\" name=\\\"DateStartFrom\\\" [(ngModel)]=\\\"dateStartFrom\\\" \\n                            class=\\\"form-control form-control-sm\\\" placeholder=\\\"วว/ดด/ปปปป\\\"\\n                            (change)=\\\"checkDate()\\\"> -->\\n\\n                            <label for=\\\"\\\">&nbsp;ถึง&nbsp;</label>\\n\\n\\n                            <my-date-picker-th name=\\\"DateStartTo\\\" [options]=\\\"myDatePickerOptions\\\"\\n                            (dateChanged)=\\\"onEDateChange($event)\\\" [(ngModel)]=\\\"dateStartTo\\\"></my-date-picker-th>\\n                            \\n                            <!-- <input type=\\\"date\\\" name=\\\"DateStartTo\\\" [(ngModel)]=\\\"dateStartTo\\\"\\n                            class=\\\"form-control form-control-sm\\\" placeholder=\\\"วว/ดด/ปปปป\\\"\\n                            (change)=\\\"checkDate()\\\"> -->\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n                    <label for=\\\"\\\" class=\\\"col-lg-2 col-sm-3\\\">ชื่อผู้รับแจ้ง :</label>\\n                    <div class=\\\"col-lg-4 col-md-7 col-sm-9\\\">\\n                        <div class=\\\"form-group\\\">\\n                            <input type=\\\"text\\\" name=\\\"StaffName\\\" ngModel class=\\\"form-control form-control-sm\\\">\\n                        </div>\\n                    </div>\\n                    <label for=\\\"\\\" class=\\\"col-lg-2 col-sm-3\\\">หน่วยงาน :</label>\\n                    <div class=\\\"col-lg-4 col-md-7 col-sm-9\\\">\\n                        <div class=\\\"form-group\\\">\\n                            <input type=\\\"text\\\" name=\\\"DepartmentName\\\" ngModel class=\\\"form-control form-control-sm\\\">\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n                    <label for=\\\"\\\" class=\\\"col-lg-2 col-sm-3\\\">ผู้ต้องสงสัย :</label>\\n                    <div class=\\\"col-lg-4 col-md-7 col-sm-9\\\">\\n                        <div class=\\\"form-group\\\">\\n                            <input type=\\\"text\\\" name=\\\"SuspectName\\\" ngModel class=\\\"form-control form-control-sm\\\">\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row form-group\\\">\\n                    <div class=\\\"col-lg-10 col-8\\\"></div>\\n                    <div class=\\\"col-lg-2 col-4\\\">\\n                        <button type=\\\"submit\\\" class=\\\"btn btn-block btn-themecolor\\\">ค้นข้อมูล</button>\\n                    </div>\\n                </div>\\n            </div>\\n        </form>\\n    </div>\\n\\n</div>\\n\\n<div class=\\\"card unset-radius\\\">\\n    <div class=\\\"card-body p-0\\\">\\n        <div class=\\\"table-responsive table-sm table-striped\\\">\\n            <table class=\\\"table\\\">\\n                <thead>\\n                    <tr>\\n                        <th class=\\\"text-center\\\">ลำดับ</th>\\n                        <th>เลขที่ใบแจ้งความ</th>\\n                        <th>วันที่แจ้งความ</th>\\n                        <th>ผู้รับแจ้ง</th>\\n                        <th>หน่วยงาน</th>\\n                        <th>ผู้ต้องสงสัย</th>\\n                        <th></th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <tr *ngFor=\\\"let item of noticeList; let i=index;\\\">\\n                        <td class=\\\"text-center\\\">{{item.RowId}}</td>\\n                        <td>{{item.NoticeCode}}</td>\\n                        <td>{{item.NoticeDate}}</td>\\n                        <td>\\n                            <div *ngFor=\\\"let staff of item.NoticeStaff;\\\">{{staff.StaffFullName}}</div>\\n                        </td>\\n                        <td>\\n                            <div *ngFor=\\\"let staff of item.NoticeStaff;\\\">{{staff.DepartmentName}}</div>\\n                        </td>\\n                        <td>\\n                            <div *ngFor=\\\"let suspect of item.NoticeSuspect;\\\">{{suspect.SuspectFullName}}</div>\\n                        </td>\\n                        <td class=\\\"text-center\\\">\\n                            <a href=\\\"javaScript:void(0);\\\" class=\\\"text-secondary\\\" (click)=\\\"view(item.NoticeCode)\\\">\\n                                <i class=\\\"fa fa-eye fa-lg\\\"></i>\\n                            </a>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n    </div>\\n    <div class=\\\"card-footer card-footer-unset\\\">\\n        <app-pagination-table [TotalItems]=\\\"paginage.TotalItems\\\" [CurrentPage]=\\\"paginage.CurrentPage\\\" [PageSize]=\\\"paginage.PageSize\\\"\\n            [RowsPerPageOptions]=\\\"paginage.RowsPerPageOptions\\\" (onPageChange)=\\\"pageChanges($event)\\\">\\n        </app-pagination-table>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/notices/list/list.component.html\n// module id = ./src/app/pages/notices/list/list.component.html\n// module chunks = list.module.4","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NavigationService } from '../../../shared/header-navigation/navigation.service';\nimport { NoticeService } from '../notice.service';\nimport { Message } from '../../../config/message';\nimport { Notice } from '../notice';\nimport { pagination } from '../../../config/pagination';\nimport { toLocalShort, compareDate, toLocalNumeric, setZeroHours, getDateMyDatepicker, setDateMyDatepicker } from '../../../config/dateFormat';\nimport { PreloaderService } from '../../../shared/preloader/preloader.component';\nimport { SidebarService } from '../../../shared/sidebar/sidebar.component';\nimport { IMyDateModel, IMyOptions } from 'mydatepicker-th';\n\n@Component({\n    selector: 'app-list',\n    templateUrl: './list.component.html'\n})\nexport class ListComponent implements OnInit, OnDestroy {\n\n    advSearch: any;\n    isRequired = false;\n    setDefaultDate: string;\n    paginage = pagination;\n\n    notice = new Array<Notice>();\n    noticeList = new Array<Notice>();\n\n    dateStartFrom: any;\n    dateStartTo: any;\n\n    myDatePickerOptions: IMyOptions = {\n        dateFormat: 'dd mmm yyyy',\n        showClearDateBtn: false,\n        height: '30px'\n    };\n\n    private subOnsearchByKeyword: any;\n    private subSetNextPage: any;\n\n    constructor(\n        private _router: Router,\n        private navservice: NavigationService,\n        private noticeService: NoticeService,\n        private preLoaderService: PreloaderService,\n        private sidebarService: SidebarService\n    ) {\n        // set false\n        this.navservice.setEditButton(false);\n        this.navservice.setDeleteButton(false);\n        this.navservice.setPrintButton(false);\n        this.navservice.setSaveButton(false);\n        this.navservice.setCancelButton(false);\n        this.navservice.setNextPageButton(false);\n        // set true\n        this.navservice.setSearchBar(true);\n        this.navservice.setNewButton(true);\n        this.advSearch = this.navservice.showAdvSearch;\n    }\n\n    async ngOnInit() {\n\n        this.sidebarService.setVersion('0.0.2.10');\n        this.paginage.TotalItems = 0;\n\n        this.preLoaderService.setShowPreloader(true);\n        await this.noticeService.getByKeywordOnInt().then(list => this.onSearchComplete(list));\n\n        this.subOnsearchByKeyword = this.navservice.searchByKeyword.subscribe(async Textsearch => {\n            if (Textsearch) {\n                await this.navservice.setOnSearch('');\n                this.onSearch(Textsearch);\n            }\n        })  \n\n        this.subSetNextPage = this.navservice.onNextPage.subscribe(async status => {\n            if (status) {\n                await this.navservice.setOnNextPage(false);\n                this._router.navigate(['/notice/manage', 'C', 'NEW']);\n            }\n        })\n\n        this.preLoaderService.setShowPreloader(false);\n    }\n\n    ngOnDestroy(): void {\n        this.subOnsearchByKeyword.unsubscribe();\n        this.subSetNextPage.unsubscribe();\n    }\n\n    async onSearch(Textsearch: any) {\n        this.preLoaderService.setShowPreloader(true);\n        await this.noticeService.getByKeyword(Textsearch).then(list => this.onSearchComplete(list));\n        this.preLoaderService.setShowPreloader(false);\n    }\n\n    async onAdvSearch(form: any) {\n\n        if (form.value.DateStartFrom && form.value.DateStartTo) {\n\n            const sdate = getDateMyDatepicker(form.value.dateStartFrom);\n            const edate = getDateMyDatepicker(form.value.dateStartTo);\n\n            if (!compareDate(sdate, edate)) {\n                alert(Message.checkDate);\n                return false;\n            }\n\n            form.value.DateStartFrom = setZeroHours(sdate);\n            form.value.DateStartTo = setZeroHours(edate);\n        }\n\n        this.preLoaderService.setShowPreloader(true);\n\n        await this.noticeService.getByConAdv(form.value).then(list => this.onSearchComplete(list));\n\n        this.preLoaderService.setShowPreloader(false);\n    }\n\n    async onSearchComplete(list: Notice[]) {\n        if (!list.length) {\n            alert(Message.noRecord)\n            return false;\n        }\n\n        this.notice = [];\n        await list\n            .filter(item => item.IsActive == 1)\n            .map((item, i) => {\n                item.RowId = i + 1;\n                item.NoticeDate = toLocalShort(item.NoticeDate);\n                item.NoticeStaff\n                    .filter(_s => _s.IsActive == 1)\n                    .map(s => {\n                        s.StaffFullName = `${s.TitleName} ${s.FirstName} ${s.LastName}`;\n                    });\n                item.NoticeSuspect\n                    .filter(_s => _s.IsActive == 1)\n                    .map(s => {\n                        s.SuspectFullName = `${s.SuspectTitleName} ${s.SuspectFirstName} ${s.SuspectLastName}`;\n                    })\n            })\n\n        this.notice = list\n        // set total record\n        this.paginage.TotalItems = this.notice.length;\n    }\n\n    onSDateChange(event: IMyDateModel) {\n        this.dateStartFrom = event;\n        this.checkDate();\n    }\n\n    onEDateChange(event: IMyDateModel) {\n        this.dateStartTo = event;\n        this.checkDate();\n    }\n\n    checkDate() {\n        if (this.dateStartFrom && this.dateStartTo) {\n\n            const _sdate = this.dateStartFrom;\n            const sdate = getDateMyDatepicker(this.dateStartFrom);\n            const edate = getDateMyDatepicker(this.dateStartTo);\n\n            if (!compareDate(sdate, edate)) {\n                alert(Message.checkDate)\n                setTimeout(() => {\n                    this.dateStartTo = { date: _sdate.date };\n                }, 0);\n            }\n        }\n    }\n\n    view(noticeCode: string) {\n        this._router.navigate([`/notice/manage/R/${noticeCode}`]);\n    }\n\n    async pageChanges(event) {\n        this.noticeList = await this.notice.slice(event.startIndex - 1, event.endIndex);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/notices/list/list.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListComponent } from './list.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { CardActionsModule } from '../../component/card-actions/card-actions.module';\nimport { NoticeService } from '../notice.service';\nimport { HttpModule } from '@angular/http';\nimport { HttpClientModule } from '@angular/common/http';\nimport { PaginationTableModule } from '../../component/pagination-table/pagination-table.module';\nimport { MyDatePickerTHModule } from 'mydatepicker-th';\n\nconst routes: Routes = [\n    {\n        path: '',\n        data: {\n            urls: [\n                { title: 'หน้าหลัก', url: '/' }, \n                { title: 'ค้นหาใบแจ้งความนำจับ' }\n            ],\n            codePage: 'XCS60-02-01-00-00' \n        },\n        component: ListComponent\n    }\n]\n\n@NgModule({\n    imports: [\n        FormsModule,\n        CommonModule,\n        HttpModule,\n        HttpClientModule,\n        RouterModule.forChild(routes),\n        CardActionsModule,\n        PaginationTableModule,\n        MyDatePickerTHModule\n    ],\n    declarations: [\n        ListComponent,\n    ],\n    providers: [\n        NoticeService\n    ]\n})\nexport class ListModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/notices/list/list.module.ts"],"sourceRoot":"webpack:///"}